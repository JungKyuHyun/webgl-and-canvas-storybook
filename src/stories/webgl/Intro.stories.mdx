import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Webgl/Introduction" />

# WebGL

그래픽 작업을 위한 WebGL 공부

<br />

## 서론

`WebGL`로 2D 도형이라도 만들려고 하면 많은 소스 코드가 필요하다는 것을 알 수 있다. <br />
왜냐하면 화면상에서는 아무리 간단한 오브젝트 한 개더라도 `WebGL`은 셰이더를 기반으로 하기 때문에 `버텍스 셰이더`와 `프래그먼트 셰이더`를 필요로하기 때문이다.

`WebGL` 애플리케이션을 만들 때, `버텍스 셰이더`와 `프래그먼트 셰이더`는 `GPU`에서 셰이더 프로그램으로 사용되기 이전에 컴파일되고, 런타임에 `링크`되어야 한다. 이것이 간단한 오브젝트를 그리더라도 여러 단계를 거쳐 만드는 이유이다.

<br />

## WebGL 애플리케이션을 만드는 방법

1. `canvas` 태그가 들어간 HTML 코드를 작성한다. 그리고 `WebGLRenderingContext`를 생성에 필요한 캔버스 래퍼런스를 만드는 JS코드를 작성한다.
2. `버텍스 셰이더`와 `프래그먼트 셰이더` 코드를 작성한다.
3. `버텍스 셰이더`와 `프래그먼트 셰이더`를 관리하는 셰이더 객체를 생성하는 `WebGL API`코드를 작성한다. 셰이더 객체에 셰이더 코드를 로드한 후, 객체를 컴파일해야 한다.
4. 프로그램 객체를 만든 뒤 셰이더 객체를 붙힌다. 그다음 프로그램 객체를 링크해 `WebGL`로 하여금 렌더링에 이 객체를 이용할수 있도록 지정한다.
5. `WebGL 버퍼 객체`를 만들고 기하 정보를 담은 버텍스 데이터를 버퍼에 로드한다.
6. 셰이더의 어떤 속성을 버퍼에 연결할지 지정하고, 기하 정보를 화면에 그린다.

<br />

## 프래그먼트 셰이터(Fragment shader)

다각형 안에 있는 각각의 픽셀을 GL 전문용어로 `프래그먼트(fragment)`라고 부른다. `프래그먼트 셰이더`가 하는 일은 각 픽셀의 색상을 설정하는 것이다.

<br />

## 정점 쉐이더(Vertex Shader)

`정점 쉐이더(Vertex Shader)`는 각 정점의 위치과 모양을 정의한다.

<br />

## 참고 자료

- [WebGL이란 무엇인가(+ HTML Canvas, WebGL 기초)](https://code-masterjung.tistory.com/110)
- [WebGL 안티 패턴](https://webglfundamentals.org/webgl/lessons/webgl-anti-patterns.html)
